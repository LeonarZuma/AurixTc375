<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>CasioCORE: Drivers/RTCC.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">CasioCORE
   &#160;<span id="projectnumber">0.0.1</span>
   </div>
   <div id="projectbrief">TemplatewithalreadysetupInfineoniLLDlibrary.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('RTCC_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">RTCC.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><b>A simple clock and calendar implementing real time counting</b>  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdint.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="Phase1_8h_source.html">Phase1.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="RTCC_8h_source.html">RTCC.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a445db886c41eff45029d95d8d43bd407"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a445db886c41eff45029d95d8d43bd407">AppRtcc_clockInit</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc)</td></tr>
<tr class="memdesc:a445db886c41eff45029d95d8d43bd407"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Initialize the internal clock structure **  <a href="#a445db886c41eff45029d95d8d43bd407">More...</a><br /></td></tr>
<tr class="separator:a445db886c41eff45029d95d8d43bd407"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21b88cf3582c5fdc04506ef44541fdab"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a21b88cf3582c5fdc04506ef44541fdab">AppRtcc_setTime</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t hour, uint8_t minutes, uint8_t seconds)</td></tr>
<tr class="memdesc:a21b88cf3582c5fdc04506ef44541fdab"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to set a new time **  <a href="#a21b88cf3582c5fdc04506ef44541fdab">More...</a><br /></td></tr>
<tr class="separator:a21b88cf3582c5fdc04506ef44541fdab"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab5a1c9d374b192eef2ad1c051fe1f3bd"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#ab5a1c9d374b192eef2ad1c051fe1f3bd">AppRtcc_setDate</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t day, uint8_t month, uint16_t year)</td></tr>
<tr class="memdesc:ab5a1c9d374b192eef2ad1c051fe1f3bd"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to set a new date **  <a href="#ab5a1c9d374b192eef2ad1c051fe1f3bd">More...</a><br /></td></tr>
<tr class="separator:ab5a1c9d374b192eef2ad1c051fe1f3bd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b177b3b8f2032ac63aa9a7086251ec1"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a9b177b3b8f2032ac63aa9a7086251ec1">AppRtcc_setAlarm</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t hour, uint8_t minutes)</td></tr>
<tr class="memdesc:a9b177b3b8f2032ac63aa9a7086251ec1"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to set a new alarm value **  <a href="#a9b177b3b8f2032ac63aa9a7086251ec1">More...</a><br /></td></tr>
<tr class="separator:a9b177b3b8f2032ac63aa9a7086251ec1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93af93e120ef2f5136d1c7b52912247d"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a93af93e120ef2f5136d1c7b52912247d">AppRtcc_getTime</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t *hour, uint8_t *minutes, uint8_t *seconds)</td></tr>
<tr class="memdesc:a93af93e120ef2f5136d1c7b52912247d"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to read the current time **  <a href="#a93af93e120ef2f5136d1c7b52912247d">More...</a><br /></td></tr>
<tr class="separator:a93af93e120ef2f5136d1c7b52912247d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af37d94b3631bf117911ba2b8843135ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#af37d94b3631bf117911ba2b8843135ec">AppRtcc_getDate</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t *day, uint8_t *month, uint16_t *year, uint8_t *weekDay)</td></tr>
<tr class="memdesc:af37d94b3631bf117911ba2b8843135ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to read the current date **  <a href="#af37d94b3631bf117911ba2b8843135ec">More...</a><br /></td></tr>
<tr class="separator:af37d94b3631bf117911ba2b8843135ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ada22592269f79cfae0f730544422007f"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#ada22592269f79cfae0f730544422007f">AppRtcc_getAlarm</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc, uint8_t *hour, uint8_t *minutes)</td></tr>
<tr class="memdesc:ada22592269f79cfae0f730544422007f"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to read the current alarm**  <a href="#ada22592269f79cfae0f730544422007f">More...</a><br /></td></tr>
<tr class="separator:ada22592269f79cfae0f730544422007f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0f9267051a5b132fb4eda06a4c6ba5ae"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a0f9267051a5b132fb4eda06a4c6ba5ae">AppRtcc_clearAlarm</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc)</td></tr>
<tr class="memdesc:a0f9267051a5b132fb4eda06a4c6ba5ae"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to clear an active current alarm **  <a href="#a0f9267051a5b132fb4eda06a4c6ba5ae">More...</a><br /></td></tr>
<tr class="separator:a0f9267051a5b132fb4eda06a4c6ba5ae"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9b7d6526ae8e48fdc17060f9cc5aee22"><td class="memItemLeft" align="right" valign="top">uint8_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a9b7d6526ae8e48fdc17060f9cc5aee22">AppRtcc_getAlarmFlag</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc)</td></tr>
<tr class="memdesc:a9b7d6526ae8e48fdc17060f9cc5aee22"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Interface to get the flag that indicates if the alarm is active **  <a href="#a9b7d6526ae8e48fdc17060f9cc5aee22">More...</a><br /></td></tr>
<tr class="separator:a9b7d6526ae8e48fdc17060f9cc5aee22"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a87034d9f6389f8b8a9701aa8bf0cd04f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="RTCC_8c.html#a87034d9f6389f8b8a9701aa8bf0cd04f">AppRtcc_periodicTask</a> (<a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *rtcc)</td></tr>
<tr class="memdesc:a87034d9f6389f8b8a9701aa8bf0cd04f"><td class="mdescLeft">&#160;</td><td class="mdescRight">** Clock Periodic function **  <a href="#a87034d9f6389f8b8a9701aa8bf0cd04f">More...</a><br /></td></tr>
<tr class="separator:a87034d9f6389f8b8a9701aa8bf0cd04f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p><b>A simple clock and calendar implementing real time counting</b> </p>
<blockquote class="doxtable">
<p></p>
<p></p>
</blockquote>
<p>This driver contains the main structure and logic to simulate a REAL clock or Timer counting including: Seconds Minutes Hours (24 Hours format) Days Months Years Also includes an Alarm functionality setting a certain hh-mm.</p>
<p>Steps to configure and use correctly the RTCC driver. Before executing periodically the "AppRtcc_periodicTask", we have to call once this functions following the same order: AppRtcc_clockInit Set/Reset the deafult cnfg for the driver AppRtcc_setDate Set the Date AppRtcc_setTime Set the time AppRtcc_setAlarm Set the alarm (if is requiered)</p>
<p>After the RTCC initialization The following functions must been called periodically with a recurrence of 1000ms to keep a constant refresh of the time count. AppRtcc_periodicTask To update time, date and check if alarm condition has been reach AppRtcc_getTime To get the current time hour, minutes and seconds AppRtcc_getDate To get the current Date Month, Day, Year, Weekday AppRtcc_getAlarm To get the alarm cnfg time (if is necessary)</p>
<p>The static functions are just auxiliar functions to make the code more readable. This can't be called externally.</p>
<dl class="section note"><dt>Note</dt><dd>The driver can't count down by itself, it has to be called externally from a certain scheduler or counting method to perform the "AppRtcc_periodicTask". </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a0f9267051a5b132fb4eda06a4c6ba5ae"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AppRtcc_clearAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to clear an active current alarm ** </p>
<p>Once the alarm is active (time and alarm values are the same) this function will be use to clear the active flag and also will disable the alarm, been necessary to call the AppClk_setAlarm function again to set the alarm</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>&lt; boolean 0 means FALSE</p>
<p>&lt; boolean 0 means FALSE </p>

</div>
</div>
<a class="anchor" id="a445db886c41eff45029d95d8d43bd407"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AppRtcc_clockInit </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Initialize the internal clock structure ** </p>
<p>The function shall initialize all the clock control structure to valid values, such values should be the hour set to 00:00:00 and the valid date to January 1, 1900, enable the clock bit and disable the alarm control, bits</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>
<p>&lt; MIN years count</p>
<p>&lt; MAX months count </p>

</div>
</div>
<a class="anchor" id="ada22592269f79cfae0f730544422007f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AppRtcc_getAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>minutes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to read the current alarm** </p>
<p>The function returns by reference the current alarm values, hour and minutes, plus the the status of the set bit which indicates if the alarm is currently ready for activation. All the values will be taken from the clock control structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hour</td><td>Get Hour Alarm </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">minutes</td><td>Get minutes alarm</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;alarm</td><td>set status&gt; This alarm set status flag </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b7d6526ae8e48fdc17060f9cc5aee22"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AppRtcc_getAlarmFlag </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to get the flag that indicates if the alarm is active ** </p>
<p>The function will return the alarm active bit</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;rtcc-&gt;ctrl.bits.al_active&gt;</td><td>The alarm active bit </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="af37d94b3631bf117911ba2b8843135ec"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AppRtcc_getDate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>year</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>weekDay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to read the current date ** </p>
<p>The function returns by reference the current date values, day of the month, month, year and day of the week, all the values will be taken from the clock control structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">day</td><td>Get the current day </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">month</td><td>Get the current month </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">year</td><td>Get the current year </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">weekDay</td><td>Get the current weekDay</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a93af93e120ef2f5136d1c7b52912247d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AppRtcc_getTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t *&#160;</td>
          <td class="paramname"><em>seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to read the current time ** </p>
<p>The function returns by reference the current time values, hour, minutes and seconds, all the values will be taken from the clock control structure</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">hour</td><td>Get current Hour </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">minutes</td><td>Get current Minutes </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">seconds</td><td>Get current seconds</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a87034d9f6389f8b8a9701aa8bf0cd04f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void AppRtcc_periodicTask </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Clock Periodic function ** </p>
<p>This is the main function in charge of increment the time and date values based on any regular clock functionality, besides of incrementing time and date it will be in charge of supervise when an alarm is set and should be activated when time and minutes match. function most take care of also handle the increment of the day of the week accordingly and the leap year when necessary. It is necessary this function been called every one second using any other external mechanism like a timer, software timer or an interrupt when available.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">None</td><td></td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="a9b177b3b8f2032ac63aa9a7086251ec1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AppRtcc_setAlarm </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>minutes</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to set a new alarm value ** </p>
<p>The function will receive the hour and minutes in 24 hour format, the values should be validated id they make a valid time, in case true the new values shall be assigned to the corresponding alarm internal clock structure, and set the flag al_set which indicate a alarm will be activated as soon as the time match the alarm value. Function shall return a TRUE is the new time could be set otherwise returns FALSE</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hour</td><td>The set Hour </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minutes</td><td>The set minutes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;setAlarm&gt;</td><td>Function shall return a TRUE is the new time could be set otherwise returns FALSE * </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; boolean 0 means FALSE</p>
<p>&lt; MAX hours count</p>
<p>&lt; MAX minutes count</p>
<p>&lt; boolean 1 means TRUE</p>
<p>&lt; boolean 1 means TRUE </p>

</div>
</div>
<a class="anchor" id="ab5a1c9d374b192eef2ad1c051fe1f3bd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AppRtcc_setDate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>day</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>month</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>year</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to set a new date ** </p>
<p>The function will receive the day of the month, month of the year and the years in four digits, the values should be validated if they make a valid date, in case true the new values shall be assigned to the corresponding internal clock structure, plus, the function shall calculate the day of the week and assigned to the corresponding clock structure element. Function shall return a TRUE is the new time could be set otherwise returns FALSE</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">day</td><td>The set day </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">month</td><td>The set month </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">year</td><td>The set year</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;setDate&gt;</td><td>Function shall return a TRUE is the new time could be set otherwise returns FALSE </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; boolean 0 means FALSE</p>
<p>&lt; boolean 1 means TRUE</p>
<p>&lt; boolean 1 means TRUE </p>

</div>
</div>
<a class="anchor" id="a21b88cf3582c5fdc04506ef44541fdab"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t AppRtcc_setTime </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="RTCC_8h.html#a19e80e8ab843cf1012db129d2ab12d78">AppRtcc_Rtcc</a> *&#160;</td>
          <td class="paramname"><em>rtcc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>hour</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>minutes</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>seconds</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>** Interface to set a new time ** </p>
<p>The function will receive the hour, minutes and seconds in 24 hour format, the values should be validated id they make a valid hour, in case true the new values shall be assigned to the corresponding internal clock structure, Function shall return a TRUE is the new time could be set otherwise returns FALSE</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">rtcc</td><td>RTCC control structure </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">hour</td><td>The set Hour </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seconds</td><td>The set seconds </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">minutes</td><td>The set minutes</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">&lt;setTime&gt;</td><td>Function shall return a TRUE is the new time could be set otherwise returns FALSE </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; boolean 0 means FALSE</p>
<p>&lt; MAX hours count</p>
<p>&lt; MAX minutes count</p>
<p>&lt; MAX seconds count</p>
<p>&lt; boolean 1 means TRUE </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_60925fc218da8ca7908795bf5f624060.html">Drivers</a></li><li class="navelem"><a class="el" href="RTCC_8c.html">RTCC.c</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
